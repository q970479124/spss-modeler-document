# 一、 缺失值处理 #
目的：将缺失值或空值等按照一定的规则补全成相对准确且完整的数据，为模型预测做准备。  

## 1. 缺失值的补全方式 ##
- 删除法：当缺失值较少时采用删除法(按规则自行判度，例如缺失值 < 5%)
  - 注意事项：删除后保证数据的连续性和完整性，关键样本不能丢失，不能删除有含义的缺失(例如：特定场景下，某一特征不采样)
- 填充法：
  - 常数：用固定值(例如0)表示缺失。**适用场景：** 希望保留`缺失`含义。
  - 均值：用该字段的平均值替代缺失值。 **适用场景：** 连续型数据且分布较稳定。
  - 众数：用出现频率最高的值填补。 **适用场景：** 分类变量或离散数值。
  - 中位数：用字段的中位数代替缺失值。 **适用场景：** 存在极端值时更稳健。
  - 线性插值：根据数据的线性规则计算缺失值。 **适用场景：** 数值型时间序列，例如温度等。
  - 业务规则填充：例如业务上同批次使用的薄膜必须相同，因此当同批次中出现部分薄膜数据缺失时，填充相同薄膜值即可，且准确。
  - 建模补充： 将缺失值当作预测目标，使用模型`多重插补（MICE）`,`XGBoost/LightGBM`,`KNN 插补`。  

<br>

## 2. 注意 ##
由于补充值不精准，对模型存在一定的误导性，且核心特征的缺失影响较大，因此尽量减少补充值。    
**如果补充值较多的场合就不能追求过于严苛的精度（例如1%）。**  
如果除核心和目标维度以外缺失较多时可先采用核心维度训练模型评估效果。  

<br>

# 二、 异常值处理 #
目的：避免极端值和异常值对预测结果的影响，减少对数据分布趋势的影响。

## 1. 如何识别异常 ##
参考数据探索，可以采用可视化或IQR/Z-score的计算来识别异常值或极端值。

<br>

## 2. 异常值的处理方式 ##
- 删除法：数据量可观使且不破坏数据的连续性和完整性，则可以直接删除异常数据。  
- 截断法：可以理解成设置上限，将超出上限的数据限制在数据范围内。  
- 替换法：将异常值当作缺失值，采用缺失值补全的方式补全。

<br>

## 3. 注意 ##
参照缺失值的`注意`

<br>

# 三、 重复值处理 #
目的：避免重复数据导致数据权重偏向(重复多会导致模型学习到错误规律)

## 1. 重复值的处理方式 ##
- 完全重复：直接删除重复行（比如同一订单的重复记录）。  
- 逻辑重复：按业务合并（比如同一用户的多条记录，保留最新的一条）。

<br>

# 四、 格式标准化 #
目的：统一数据格式避免格式不一致导致的数据混乱以及对模型识别数据数据趋势的影响(例如：2kg 和 2000g)

<br>

# 五、 标准化和归一化 #
目的： 消除量纲、将数据压缩在很小的范围内。

## 1. 归一化 ##
- 原理：将数据压缩在0-1之间。  
- 优点：压缩范围后，直观好理解。  
- 缺点：容易被异常值影响(极端值特别大正常值较小，正常值可能会被压缩成0)。  
- 适用场景：需要固定范围的场景(例如图像处理)。

<br>

## 2. 标准化(Z-score) ##
- 原理：将数据压缩成均值 0， 标准差为1的数据分布形式，数据围绕着 0 波动。  
- 优点：对异常值不敏感，直观好理解。  
- 缺点： 数据范围不稳定，在0左右波动可能大于1。  
- 适用场景：大多数的建模场景。

## 3. 注意 ##
随机森林和提升树等树模型，对这类数据不敏感，不需要做以上处理。

<br>

# 六、 数据探索再验证 #
按照数据探索的过程重新验证清洗后的数据。
